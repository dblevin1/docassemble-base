metadata:
  title: Calling actions
  documentation: "http://docassemble.org/docs/functions.html#js_url_action_call"
  example start: 3
  example end: 4
---
modules:
  - docassemble.base.util
---
initial: true
code: |
  process_action()
---
mandatory: true
question: |
  The pie
subquestion: |
  <button id="run">Run</button>

  <span id="resultsArea"></span>
script: |
  <script>
    $("#run").click(function(){
      url_action_call('myaction', {fruit: 'apple'}, function(data){
        $("#resultsArea").html("The pie is called " + data.pie + ".")
      });
    });
  </script>
---
event: myaction
code: |
  fruit = action_argument('fruit')
  dessert = fruit + " pie"
  json_response(dict(pie=dessert))
