metadata:
  title: Review
---
include:
  - basic-questions.yml
---
initial: true
code: |
  process_action(current_info)
---
mandatory: true
code: |
  menu_items = [ action_menu_item('Review Answers', 'review_answers') ]
---
event: review_answers
question: |
  Review your answers
review:
  - note: |
      Welcome to the review of answers.
  - note: |
      #### Your identity
    show if: user.name.first
  - Name: user.name.first
    help: |
      You said your name was **${ user.name }**.
  - note: |
      #### Your favorite foods
    show if: fruit
  - Revisit Fruit: fruit
    button: |
      You said you liked ${ fruit }.
  - Revisit Vegetable: vegetable
    button: |
      You said you liked ${ vegetable }.
  - Revisit Fungus: fungi
    button: |
      You said you liked ${ fungi }.
  - note: |
      We suspect you prefer ${ fruit } to ${ vegetable }.
---
question: |
  What is your favorite fruit?
fields:
  - no label: fruit
---
question: |
  What is your favorite vegetable?
fields:
  - no label: vegetable
---
question: |
  What is your favorite fungi?
fields:
  - no label: fungi
---
question: |
  You like ${ fruit }.
field: ready_to_go_one
---
question: |
  You like ${ vegetable }.
field: ready_to_go_two
---
question: |
  You like ${ fungi }.
field: ready_to_go_three
---
sets: all_done
need:
  - ready_to_go_one
  - ready_to_go_two
  - ready_to_go_three
question: |
  Ok, ${ user }, you like ${ fruit }.
subquestion:
  You can [revisit your answers](${ url_action('review_answers') }).  
---
mandatory: true
code: all_done
